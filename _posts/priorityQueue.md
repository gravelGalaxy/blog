---
title: 优先队列
tags: Data Structure
date: 2023-04-25 20:33:07
---


# 优先队列
## 优先队列的操作对象
搜索树、词典等数据结构对数据的访问和操作是覆盖数据全集的，需要在所有元素之间
定义并维护一个显式的`全序关系`。而优先队列却转而维护一个`偏序关系`，将操作对象限
定为当前的`全局极值者`。例如维护一个数列的`最大值`或`最小值`。优先级最高和优先级最
低都可以体现这种偏序关系，区别只在于实现时比较的方法。
## 优先队列ADT
优先队列的接口如下所示：
```C++
template <typename T> struct PQ {
    virtual void insert( T ) = 0;   //插入一个词条
    virtual T getMax() = 0;         //获取优先级最高的词条
    virtual T delMax() = 0;         //删除优先级最高的词条
}
```
## 优先队列的应用
1. 利用优先级最高的词条
- Huffman编码：像“值最小”这类有关极值的描述可以考虑使用优先队列。通过将数据放入
优先队列中，每次通过"getMax()"接口可以方便的获取下一个要操作的元素。
2. 利用优先级为k的词条
优先队列不仅仅能利用优先级最高的词条，还可以获取优先级为k的词条。方法如下：
    要获取优先级为k的词条，可以将优先队列中的元素个数限定为k，利用优先队列“可以
    获取极值”这一性质，我们维护一个优先级最低的偏序关系，即该最低的优先级即为优
    先级为k的词条，本质上还是利用优先队列获取极值。
## 优先队列STL
C++的标准模板库STL提供了优先队列这一容器，类似于普通的队列，也提供数据的插入和
删除操作。

**定义一个优先队列**

1. 优先级队列需要包含queue头文件，即`#include <queue>`
2. 优先队列的定义格式为：`priority_queue<Type, Container, Functional>`
```C++
priority_queue<int, vector<int>, less<int>> pq;
```
要注意less<int>形成的队列中，极值最大的排在最前面。新插入的元素与其父节点进行比较，
如果父节点的值小于新插入的值，那么就要相互交换。
常用的操作有以下几种：
```C++
bool pq.empty();
size_type size();
void pq.push(constvalue_type& x);         //插入一个元素
const_reference pq.top();                 //获取优先队列首个词条
void pq.pop();                            //弹出优先队列中首个词条
```
## 优先队列的优势
什么时候使用优先队列？
> 优先队列不仅可以高效的支持对`极值对象`的接口操作，而且能够很好的控制整体的`计算成本`。
优先队列的所有操作都可以在`O(logn)`的时间内完成，这是无序列表、有序列表、无序向量或
有序向量所不能实现的。
